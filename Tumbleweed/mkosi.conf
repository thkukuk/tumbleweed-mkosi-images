[Distribution]
Distribution=opensuse
Release=tumbleweed

[Output]
OutputDirectory=mkosi.output
Format=none
ImageVersion=0.0

[Content]
Bootable=no
Packages=openSUSE-release
	openSUSE-release-appliance-custom
        patterns-base-base
	patterns-base-enhanced_base # openssh
        patterns-base-sw_management # zypper
	patterns-base-selinux
	patterns-images-hardware
	snapper-zypp-plugin
	enable-no_new_privs
        live-add-yast-repos
	combustion
        curl
        jeos-firstboot
        kernel-default
	kernel-firmware-all
	systemd-repart-dracut
# network
        iproute2
	iputils
        NetworkManager
# bootloader
        dracut
        systemd-boot
        sdbootutil
        sdbootutil-snapper
        shim
        uefi_mbr
        mokutil
        efibootmgr
	update-bootloader
# FDE
	cryptsetup
	device-mapper
	disk-encryption-tool
	dracut-pcr-signature
	sdbootutil-enroll
	sdbootutil-jeos-firstboot-enroll
# Recommends on Tumbleweed
	audit
	acl
	group(mail) # needed by useradd bsc#1061838
	vim-small
	pam_pwquality
	cracklib-dict-small # Avoid the big 10MiB one
	bash-completion
	#glibc-locale
	tar
	parted
	polkit-default-privs
	rsync
	dosfstools # For fscking /boot/efi
	lsof # For zypper ps (bsc#1167553)
	less
	man
	wget
	sndiff
	qemu-guest-agent
	zypper-needs-restarting # Some deployment script use this (bsc#1173548)
